<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Helder's Home Page | articles tagged "tutorial"</title>
    <link rel="shortcut icon" type="image/png" href="/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="Helder Oliveira" />
</head>
<body>
    <header>
        <nav>
            <ul>
                <li class="ephemeral selected"><a href="/tag/tutorial.html">tutorial</a></li>
                <li><a href="/">Home</a></li>
                <li><a href="/pages/links.html">Links</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="/">Helder's Home Page</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Jan 17, 2013</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/python-101-o-operador-ternario.html" rel="bookmark" title="Permanent Link to &quot;Python 101: O Operador Ternário&quot;">Python 101: O Operador Ternário</a>
                </h2>

                
                

                <blockquote>
<p>Este texto é uma tradução livre do post <a href="http://www.blog.pythonlibrary.org/2012/08/29/python-101-the-ternary-operator/">Python 101: The Ternary
Operator</a>,
escrito por <strong>Mike Driscoll</strong>. A licença permanece a mesma
especificada pelo autor.</p>
</blockquote>
<p>Existem várias linguagens que permitem o uso do operador ternário (ou
terciário), que, em Python, consiste basicamente de uma expressão
condicional de apenas uma linha. Se você estiver interessado, poderá ler
na <a href="http://en.wikipedia.org/wiki/?:">Wikipédia</a> sobre como isso é feito
em outras linguagens. Aqui iremos dar uma olhada em vário exemplos,
também iremos discutir o porque de você querer usar esse operador na
vida real.</p>
<p>Eu me lembro de ter usado o operador ternário em C++, onde ele é
representado pelo simbolo de interrogação. E pesquisei um pouco e
encontrei alguns bons exemplos em uma 
<a href="http://stackoverflow.com/a/394814/393194">pergunta respontida no StackOverflow</a> e que também
menciona o exemplo da <a href="http://en.wikipedia.org/wiki/?:">Wikipédia</a>.
Vamos ver alguns deles e como funcionam. Aqui está um dos exemplos mais
simples:</p>
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">result</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span> <span class="k">else</span> <span class="kc">False</span>
</code></pre></div>

<p>Este código é basicamente lido da seguinte maneira: O resultado será
<code>True</code> se <code>x</code> for maior que <code>y</code>, caso contrário o resultado será
<code>False</code>. Para ser honesto, isso me lembra um pouco dos blocos
condicionais do Microsoft Excel. Algumas pessoas são contra essa forma,
mas isto é o que a <a href="http://docs.python.org/release/3.0.1/reference/expressions.html#boolean-operations">documentação oficial do
Python</a>
usa. O código a seguir mostra como você escreveria a instrução acima
utilizando uma instrução normal:</p>
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s2">&quot;True&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s2">&quot;False&quot;</span>
</code></pre></div>

<p>Veja que você economiza 3 linhas de código por utilizar o operador
ternário. Sendo assim, você pode querer utilizar esta estrutura, a
versão ternária, quando está iterando sobre um conjunto de arquivos e
quer filtrá-los em algumas seções ou linhas. Para o nosso próximo
exemplo, iremos iterar sobre alguns número e checar se eles são pares ou
ímpares:</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;Odd&quot;</span> <span class="k">if</span> <span class="n">x</span> <span class="k">else</span> <span class="s2">&quot;Even&quot;</span>
    <span class="nb">print</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> is </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</code></pre></div>

<p>Você ficaria surpreso com a frequência que somos lembrados da estrutura
de divisão. Esta é uma maneira de determinar se um número é par ou
ímpar. No link do StackOverflow mencionado anteriormente, tem uma parte
interessante do código que é mostrado como exemplo pelas pessoas que
ainda usam Python 2.4 ou anteriror:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># (falseValue, trueValue)[test]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">5</span><span class="o">&gt;</span><span class="mi">6</span><span class="p">]</span>
<span class="mi">0</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">5</span><span class="o">&lt;</span><span class="mi">6</span><span class="p">]</span>
<span class="mi">1</span>
</code></pre></div>

<p>Este código é bem feio, mas funciona. Ele indexa uma tupla o que
certamente é um truque, mas não deixa de ser interessante. Claro, ele
não é tão diferente do que vimos anteriormente, e ambos os valores são
avaliados. Você pode até usá-lo, mas vai ter obter uma quantidade única
de erros por fazer dessa maneira onde <code>True</code> é <code>False</code> e vice-versa,
portanto eu não a recomendaria.</p>
<p>Existem várias outras maneiras de usar o ternário em Python com funções
lambda. Aqui está um exemplo mostrado na Wikipédia:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">true</span><span class="p">():</span>
    <span class="nb">print</span> <span class="s2">&quot;true&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;truly&quot;</span>
<span class="k">def</span> <span class="nf">false</span><span class="p">():</span>
    <span class="nb">print</span> <span class="s2">&quot;false&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;falsely&quot;</span>

<span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">b</span><span class="p">,</span><span class="n">a1</span><span class="p">,</span><span class="n">a2</span><span class="p">:</span> <span class="n">a1</span> <span class="k">if</span> <span class="n">b</span> <span class="k">else</span> <span class="n">a2</span>
<span class="n">func</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">)()</span>

<span class="n">func</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">)()</span>
</code></pre></div>

<p>Este é um código mais arrojado, principalmente se você não sabe como as
funções lambdas funcionam. Basicamente, uma lambda é uma função anônima.
Aqui criamos duas funções normais e uma lambda. Então podemos chamá-la
com um booleano <code>True</code> e um <code>False</code>. Na primeira chamada, ela é lida
assim: chama a função <code>true</code> se o booleano é <code>True</code>, e então chama a
função <code>false</code>. A segunda é um pouco mais confusa pois parece dizer para
chamar o método <code>true</code> se o booleano for <code>False</code>, quando na verdade está
dizendo que irá chamar o método <code>false</code> apenas se <code>b</code> é <code>False</code>. É, eu
acho isso um pouco confuso também.</p>
<h2>Conclusão</h2>
<p>Existem vários outros exemplos de operadores ternários na seção de
<em>Leitura Adicional</em> que está abaixo, mas até aqui você já deve ter
entendido como usar e talvez quando usá-lo. Eu uso esta metodologia
quando eu sei que tenho apenas uma condicional <code>True/False</code> e preciso
economizar umas linhas de código. Entretanto, frequentemente eu uso a
maneira explicita pois sei que depois terei de fazer alguma manutenção
no código e então não quero me deparar com esse tipo de coisa estranha a
todo tempo. Mas é claro, a escolha é sua.</p>
<h2>Leitura Adicional</h2>
<ul>
<li><a href="http://code.activestate.com/recipes/52310/">Condicionais em expressões (Python Recipe)</a></li>
<li><a href="http://www.blog.pythonlibrary.org/2010/07/19/the-python-lambda/">O Lambda Python</a></li>
<li><a href="http://stackoverflow.com/questions/7076703/lambda-instead-of-if-statement">StackOverflow - Lambda no lugar do if</a></li>
<li><a href="http://p-nand-q.com/python/stupid_lambda_tricks.html">Truques bobos com Lambda</a>(inclui um exemplo usando o ternário)</li>
</ul>
                <div class="clear"></div>

                <div class="info">
                    <a href="/python-101-o-operador-ternario.html">posted at 00:00</a>
                    &nbsp;&middot;&nbsp;<a href="/category/python-tip-code.html" rel="tag">Python, Tip, Code</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/python.html" class="tags">python</a>
                    &nbsp;<a href="/tag/operador.html" class="tags">operador</a>
                    &nbsp;<a href="/tag/ternario.html" class="tags">ternário</a>
                    &nbsp;<a href="/tag/tutorial.html" class="tags selected">tutorial</a>
                </div>
            </article>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>