[
  {
    "objectID": "posts/rtl8188gu_bbb.html",
    "href": "posts/rtl8188gu_bbb.html",
    "title": "Wi-Fi on BeagleBone Black: how to make the Realtek RTL8188GU dongle work",
    "section": "",
    "text": "When I connected the USB Wifi dongle based on Realtek RTL8188GU chip into my Beaglebone Black (BBB) Rev. C running Debian 12 (Linux BeagleBone 6.15.7-bone21) the device was recognized via lsusb but it didn’t work. Here I share the steps I did to make it work.\nJust for reference, below is the photo of the dongle that I have attached to the BBB.\nBefore start, there are a couple of things you should to know:"
  },
  {
    "objectID": "posts/rtl8188gu_bbb.html#step-1-identify-the-dongle-with-lsusb",
    "href": "posts/rtl8188gu_bbb.html#step-1-identify-the-dongle-with-lsusb",
    "title": "Wi-Fi on BeagleBone Black: how to make the Realtek RTL8188GU dongle work",
    "section": "Step 1 – Identify the dongle with lsusb",
    "text": "Step 1 – Identify the dongle with lsusb\nThis is an important step. We need to know that is there and if the Kernel have identified it:\n$ lsusb\nBus 001 Device 003: ID 0bda:b711 Realtek Semiconductor Corp. RTL8188GU 802.11n WLAN Adapter (After Modeswitch)\n...\nThis confirms that indeed I have a RTL8188GU (ID 0bda:b711)."
  },
  {
    "objectID": "posts/rtl8188gu_bbb.html#step-2-mapping-the-driver-used",
    "href": "posts/rtl8188gu_bbb.html#step-2-mapping-the-driver-used",
    "title": "Wi-Fi on BeagleBone Black: how to make the Realtek RTL8188GU dongle work",
    "section": "Step 2 – Mapping the driver used",
    "text": "Step 2 – Mapping the driver used\nIf the Kernel identified it, it might have tried to load a driver. To check that I run dmesg | grep firmware which gave me the following output:\ndebian@BeagleBone:~$ dmesg | grep firmware\n[ 19.272516] systemd[1]: systemd-pcrmachine.service - TPM2 PCR Machine ID Measurement was skipped because of an unmet condition check (ConditionPathExists=/sys/firmware/efi/efivars/StubPcrKernelImage-4a67b082-0a4c-41cf-b6c7-440b29bb8c4f).\n[ 35.452599] remoteproc remoteproc0: Booting fw image am335x-pm-firmware.elf, size 217148\n[ 236.783513] usb 1-1: rtl8xxxu: Loading firmware rtlwifi/rtl8710bufw_SMIC.bin\n[ 236.801215] usb 1-1: Direct firmware load for rtlwifi/rtl8710bufw_SMIC.bin failed with error -2\n[ 236.810099] usb 1-1: request_firmware(rtlwifi/rtl8710bufw_SMIC.bin) failed\n[ 236.819474] usb 1-1: Fatal - failed to load firmware\nThe most important part are these three lines:\n[ 236.783513] usb 1-1: rtl8xxxu: Loading firmware rtlwifi/rtl8710bufw_SMIC.bin\n[ 236.801215] usb 1-1: Direct firmware load for rtlwifi/rtl8710bufw_SMIC.bin failed with error -2\n[ 236.810099] usb 1-1: request_firmware(rtlwifi/rtl8710bufw_SMIC.bin) failed\nThey informed that the Kernel has the driver rtl8xxxu that tried, and failed, to load the corresponding firmware rtl8710bufw_SMIC.bin. The file rtl8710bufw_SMIC.bin is specified in the Linux Kernel.\nOne could argue and say that I have the RTL8188GU but the kernel is loading the firmware for RTL8710BU. This is because Realtek use many chips with similar names and a generic driver (rtl8xxxu) that is suppose to server the many models. The exact correspondence one can know by checking the driver source-code or messages from dmesg, as I did.\nNote that your dmesg timestamps (these things at the beginning of each line[ 236.810099]) may differ depending on when the dongle is initialized.\nComing back to the firmware file (rtl8710bufw_SMIC.bin), I confirmed that I didn’t have it with ls -l /lib/firmware/rtlwifi:\ndebian@BeagleBone:~$ ls -l /lib/firmware/rtlwifi\ntotal 1040\n-rw-r--r-- 1 root root  11216 May  1  2023 rtl8188efw.bin\n-rw-r--r-- 1 root root  13904 May  1  2023 rtl8188eufw.bin\n-rw-r--r-- 1 root root  16192 May  1  2023 rtl8192cfw.bin\n-rw-r--r-- 1 root root  14818 May  1  2023 rtl8192cfwU.bin\n-rw-r--r-- 1 root root  16332 May  1  2023 rtl8192cfwU_B.bin\n-rw-r--r-- 1 root root  16014 May  1  2023 rtl8192cufw.bin\n-rw-r--r-- 1 root root  16126 May  1  2023 rtl8192cufw_A.bin\n-rw-r--r-- 1 root root  16096 May  1  2023 rtl8192cufw_B.bin\n-rw-r--r-- 1 root root  16126 May  1  2023 rtl8192cufw_TMSC.bin\n-rw-r--r-- 1 root root  31376 May  1  2023 rtl8192defw.bin\nlrwxrwxrwx 1 root root     17 May  1  2023 rtl8192eefw.bin -&gt; rtl8192eu_nic.bin\n-rw-r--r-- 1 root root  25264 May  1  2023 rtl8192eu_ap_wowlan.bin\n-rw-r--r-- 1 root root  32286 May  1  2023 rtl8192eu_nic.bin\n-rw-r--r-- 1 root root  29008 May  1  2023 rtl8192eu_wowlan.bin\n-rw-r--r-- 1 root root  80208 May  1  2023 rtl8192sefw.bin\n-rw-r--r-- 1 root root 122328 May  1  2023 rtl8712u.bin\n-rw-r--r-- 1 root root  22172 May  1  2023 rtl8723aufw_A.bin\n-rw-r--r-- 1 root root  24118 May  1  2023 rtl8723aufw_B.bin\n-rw-r--r-- 1 root root  19200 May  1  2023 rtl8723aufw_B_NoBT.bin\n-rw-r--r-- 1 root root  30746 May  1  2023 rtl8723befw.bin\n-rw-r--r-- 1 root root  31762 May  1  2023 rtl8723befw_36.bin\nlrwxrwxrwx 1 root root     23 May  1  2023 rtl8723bs_ap_wowlan.bin -&gt; rtl8723bu_ap_wowlan.bin\n-rw-r--r-- 1 root root   9120 May  1  2023 rtl8723bs_bt.bin\nlrwxrwxrwx 1 root root     17 May  1  2023 rtl8723bs_nic.bin -&gt; rtl8723bu_nic.bin\nlrwxrwxrwx 1 root root     20 May  1  2023 rtl8723bs_wowlan.bin -&gt; rtl8723bu_wowlan.bin\n-rw-r--r-- 1 root root  20886 May  1  2023 rtl8723bu_ap_wowlan.bin\n-rw-r--r-- 1 root root  32108 May  1  2023 rtl8723bu_nic.bin\n-rw-r--r-- 1 root root  26398 May  1  2023 rtl8723bu_wowlan.bin\n-rw-r--r-- 1 root root  27726 May  1  2023 rtl8723defw.bin\n-rw-r--r-- 1 root root  11662 May  1  2023 rtl8723fw.bin\n-rw-r--r-- 1 root root  22996 May  1  2023 rtl8723fw_B.bin\n-rw-r--r-- 1 root root  27516 May  1  2023 rtl8812aefw.bin\n-rw-r--r-- 1 root root  21204 May  1  2023 rtl8812aefw_wowlan.bin\n-rw-r--r-- 1 root root  28984 May  1  2023 rtl8821aefw.bin\n-rw-r--r-- 1 root root  28348 May  1  2023 rtl8821aefw_29.bin\n-rw-r--r-- 1 root root  19858 May  1  2023 rtl8821aefw_wowlan.bin\n-rw-r--r-- 1 root root 127496 May  1  2023 rtl8822befw.bin\n\nIn Debian-based distributions (Ubuntu, Mint, etc.) there is a package called firmware-realtek with some Realtek proprietary firmwares. However, it doesn’t have the firmware rtl8710bufw_SMIC.bin I needed. One can check what is included in the package here.\n\nThe conclusion from this step is that I needed the file rtl8710bufw_SMIC.bin."
  },
  {
    "objectID": "posts/rtl8188gu_bbb.html#step-3-installing-the-missing-firmware",
    "href": "posts/rtl8188gu_bbb.html#step-3-installing-the-missing-firmware",
    "title": "Wi-Fi on BeagleBone Black: how to make the Realtek RTL8188GU dongle work",
    "section": "Step 3 – Installing the missing firmware",
    "text": "Step 3 – Installing the missing firmware\nSearching on the internet I found a GitHub repo with the file. So I downloaded it to the folder /lib/firmware/rtlwifi:\n$ cd /lib/firmware/rtlwifi\n$ sudo wget https://github.com/Malik24626/RTL8188GU/tree/main/rtl8710bufw_SMIC.bin?raw=true -O rtl8710bufw_SMIC.bin\nMake sure that you added the ?raw=true after the filename otherwise wget will download a html page. If in doubt, open the link in a browser to verify it downloads the binary and not HTML.\n\nLater, I found this FTP server with many others firmware available.\n\nNext, you reboot:\n$ sudo reboot"
  },
  {
    "objectID": "posts/rtl8188gu_bbb.html#step-4-checking-if-it-is-working",
    "href": "posts/rtl8188gu_bbb.html#step-4-checking-if-it-is-working",
    "title": "Wi-Fi on BeagleBone Black: how to make the Realtek RTL8188GU dongle work",
    "section": "Step 4 – Checking if it is working",
    "text": "Step 4 – Checking if it is working\nAfter the reboot, I checked with dmesg:\ndebian@BeagleBone:~$ dmesg | grep firmware\n...\n[   47.365423] usb 1-1: rtl8xxxu: Loading firmware rtlwifi/rtl8710bufw_SMIC.bin\n...\nAmong other lines I saw that the firmware was loaded without errors!\nSo I checked if there is a wlan interface:\ndebian@BeagleBone:~$ iw dev\nphy#0\n        Interface wlan0\n                ifindex 33\n                wdev 0x1d\n                addr 90:de:80:bc:ab:d1\n                ssid altair4\n                type managed\n                channel 1 (2412 MHz), width: 20 MHz, center1: 2412 MHz\n                txpower 30.00 dBm\n                multicast TXQ:\n                        qsz-byt qsz-pkt flows   drops   marks   overlmt hashcol tx-bytes        tx-packets\n                        0       0       0       0       0       0       0       0               0\nAfter setting up wpa_supplicant to connect to my local wifi, I checked if the wlan0 was getting an IP address:\ndebian@BeagleBone:~$ ifconfig\n...\nwlan0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500\n        inet 10.0.0.38  netmask 255.255.255.0  broadcast 10.0.0.255\n        inet6 2604:3d09:37d:73e0::e9d5  prefixlen 128  scopeid 0x0&lt;global&gt;\n        inet6 fe80::92de:80ff:febc:abd1  prefixlen 64  scopeid 0x20&lt;link&gt;\n        inet6 2604:3d09:37d:73e0:92de:80ff:febc:abd1  prefixlen 64  scopeid 0x0&lt;global&gt;\n        ether 90:de:80:bc:ab:d1  txqueuelen 1000  (Ethernet)\n        RX packets 42572  bytes 10449360 (9.9 MiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 44733  bytes 26019255 (24.8 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\nEverything seemed to be in place, so I rebooted the BB a couple of times just to check that driver-firmware were working. By the way, I was still connect to my main computer through USB cable."
  },
  {
    "objectID": "posts/rtl8188gu_bbb.html#final-considerations",
    "href": "posts/rtl8188gu_bbb.html#final-considerations",
    "title": "Wi-Fi on BeagleBone Black: how to make the Realtek RTL8188GU dongle work",
    "section": "Final Considerations",
    "text": "Final Considerations\n\nThe driver rtl8xxxu is in the Kernel, but the firmware was not included.\nNot all the firmwares are available but default, to keep a lean distribution or because it is a proprietary software.\nAlways check lsusb and dmesg if the dongle doesn’t work properly.\n\nWhat I didn’t include here was how to set up wpa_supplicant and manually get an IP address with dhclient.\n\nCheers!"
  },
  {
    "objectID": "penv/Lib/site-packages/pyzmq-27.1.0.dist-info/licenses/LICENSE.html",
    "href": "penv/Lib/site-packages/pyzmq-27.1.0.dist-info/licenses/LICENSE.html",
    "title": "Helder's Web Page",
    "section": "",
    "text": "BSD 3-Clause License\nCopyright (c) 2009-2012, Brian Granger, Min Ragan-Kelley\nAll rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\nRedistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\nRedistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\nNeither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE."
  },
  {
    "objectID": "penv/Lib/site-packages/numpy/random/LICENSE.html",
    "href": "penv/Lib/site-packages/numpy/random/LICENSE.html",
    "title": "NCSA Open Source License",
    "section": "",
    "text": "This software is dual-licensed under the The University of Illinois/NCSA Open Source License (NCSA) and The 3-Clause BSD License\n\nNCSA Open Source License\nCopyright (c) 2019 Kevin Sheppard. All rights reserved.\nDeveloped by: Kevin Sheppard (kevin.sheppard@economics.ox.ac.uk, kevin.k.sheppard@gmail.com) http://www.kevinsheppard.com\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal with the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\nRedistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimers.\nRedistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimers in the documentation and/or other materials provided with the distribution.\nNeither the names of Kevin Sheppard, nor the names of any contributors may be used to endorse or promote products derived from this Software without specific prior written permission.\nTHE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE CONTRIBUTORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS WITH THE SOFTWARE.\n\n\n3-Clause BSD License\nCopyright (c) 2019 Kevin Sheppard. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\nRedistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\nRedistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\nNeither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n\nComponents\nMany parts of this module have been derived from original sources, often the algorithm’s designer. Component licenses are located with the component code."
  },
  {
    "objectID": "oldindex.html",
    "href": "oldindex.html",
    "title": "Helder's Web Page",
    "section": "",
    "text": "Wi-Fi on BeagleBone Black: how to make the Realtek RTL8188GU dongle work\n\n\n\n\n\n\nlinux\n\n\ncode\n\n\nBBB\n\n\n\n\n\n\n\n\n\nJul 27, 2025\n\n\nHelder\n\n\n\n\n\n\n\n\n\n\n\n\nSurvival Analysis\n\n\n\n\n\n\nlinux\n\n\ncode\n\n\nBBB\n\n\n\n\n\n\n\n\n\nJul 27, 2025\n\n\nHelder\n\n\n\n\n\n\n\n\n\n\n\n\nExecutable Optimization\n\n\n\n\n\n\ncode\n\n\nanalysis\n\n\n\nSome hints on code optimization aiming a small executable\n\n\n\n\n\nSep 28, 2024\n\n\nHelder\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Helder C. R. Oliveira, Ph.D.",
    "section": "",
    "text": "I have Bachelor’s Degree in Computer Science (USP’13, Brazil), M.Sc. (USP’15, Brazil) and Ph.D. (USP’19, Brazil) in Electrical Engineering. From 2019 to 2022 I was a Postdoctoral Fellow at the University of Calgary in Canada.\nMy background is in medical imaging (mammography and digital breast tomosynthesis), machine learning and computer vision. My work with mammography aimed to detect “architectural distortion of the breast”, a very sublet sign of what could become breast cancer. I also worked with denoising filters (BM3D, NLM, Wavelet-based) to remove spared noise when the mammography is acquired with a low radiation dose. During my postdoc, I worked mostly with probabilistic graphical models (Bayesian networks and Structural Equation Modelling) and time-series analysis.\nFor an up-to-date list of publications, please refer to my Google Scholar.\n\nFile6 Project: a hobbyist’s webpage, running in a Beaglebone Black (Single-board Computer - Embedded System) on classic systems, low-level programming, algorithms, malware analysis, and other cool tech projects. It is a working in progress."
  },
  {
    "objectID": "index.html#recent-posts",
    "href": "index.html#recent-posts",
    "title": "Helder C. R. Oliveira, Ph.D.",
    "section": "Recent Posts",
    "text": "Recent Posts"
  },
  {
    "objectID": "penv/Lib/site-packages/narwhals-2.7.0.dist-info/licenses/LICENSE.html",
    "href": "penv/Lib/site-packages/narwhals-2.7.0.dist-info/licenses/LICENSE.html",
    "title": "Helder's Web Page",
    "section": "",
    "text": "MIT License\nCopyright (c) 2024, Marco Gorelli\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE."
  },
  {
    "objectID": "posts/exe-optimization.html",
    "href": "posts/exe-optimization.html",
    "title": "Executable Optimization",
    "section": "",
    "text": "When coding in languages such as C or C++, or any other compiled language, I always aim to produce the smallest executable. The reason for that might be an old-school mind created in the floppy disk era where 1.44 mb was enough. Nowadays, it is easier to compile a code that produces executable pretty big even though the software doesn’t do much.\nThe goal of this “tutorial” is to show the steps that I came up with to produce the smallest executable. All the things shown here were done using Windows 11, MSYS2, VS Code and C language, but they can also be applied to many other situations.\nThe testing code uses SDL2 library to show a window that will be open for a few seconds only. Not that matters for this tutorial but, I’ll use it as a basis for other projects. Next is the boiler-plate code that I used:\nWhen compiled, using GCC (Rev3, Built by MSYS2 project) version 14.1.0, the executable generated had the size of 173,495 bytes. For this tutorial, the following line was used to compile the code:"
  },
  {
    "objectID": "posts/exe-optimization.html#gcc",
    "href": "posts/exe-optimization.html#gcc",
    "title": "Executable Optimization",
    "section": "GCC",
    "text": "GCC\nThe first optimization can be done during compiling time. GCC has many optimization flags. Two of those are the most interesting to me, -Os and -flto. According to GCC’s documentation:\n\n-Os: optimizes the executable for size.\n-flto: runs the standard link-time optimizer. Usually, this is used together with the previous one.\n\nAdding the previous flags, the new executable has a size of 158,068 bytes and the compilation command is:\n# the code was simplified for reading purposes\n&gt; gcc ... -Os -flto code.c -o code.exe ..."
  },
  {
    "objectID": "posts/exe-optimization.html#stripping-.reloc",
    "href": "posts/exe-optimization.html#stripping-.reloc",
    "title": "Executable Optimization",
    "section": "Stripping .reloc",
    "text": "Stripping .reloc\nThe next optimization is not related to the compiler used. When executables are generated by a compiler they have the .reloc session which is used for debugging purposes. If you don’t plan to do any debugging with the executable using Ghidra or IDA, you can get rid of this session with the strip.exe included in the binutils of MSYS2. Its usage is as simple as:\n&gt; strip code.exe\nThe .reloc session will be removed from the very same code.exe, therefore no new file is created. The code.exe size is drastically reduced to 23,040 bytes!"
  },
  {
    "objectID": "posts/exe-optimization.html#upx",
    "href": "posts/exe-optimization.html#upx",
    "title": "Executable Optimization",
    "section": "UPX",
    "text": "UPX\nAnother file size optimization is performed by compressing the executable. This new optimization is performed on the executable generated after the previous steps. Tools such as the open-source UPX or the proprietary ASPack can be used for this. There are other similar tools but here I used UPX only. When an executable is compressed with UPX no new file is created. The decompression mechanism is embedded into the same executable and it will decompress during runtime. UPX can also be used to compress other files such as .dlls. To use UPX you do upx executable.exe, however, I also used the flag --best to force the best compression level. So the command line is:\n&gt; upx --best code.exe\nUPX produced a file of only 11,776 bytes, a compression of about 51%."
  },
  {
    "objectID": "posts/exe-optimization.html#summary",
    "href": "posts/exe-optimization.html#summary",
    "title": "Executable Optimization",
    "section": "Summary",
    "text": "Summary\nThe table below summarizes the file size after each step.\n\n\n\nOptimization\nSize (bytes)\n\n\n\n\nNone\n173,495\n\n\n-Os & -flto\n158,068\n\n\nstrip\n23,040\n\n\nUPX\n11,776\n\n\n\nIt is worth remembering that those are incremental optimizations focusing on the file size. Thus, the UPX step has used the output of the strip which has used the result of GCC’s compilation with -Os and -flto. When using UPX there is an extra overhead added because of the decompression mechanism, but I didn’t consider it here."
  },
  {
    "objectID": "posts/survival-analysis.html",
    "href": "posts/survival-analysis.html",
    "title": "Survival Analysis",
    "section": "",
    "text": "import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom lifelines.plotting import qq_plot, plot_interval_censored_lifetimes\nimport lifelines as lfl"
  },
  {
    "objectID": "posts/survival-analysis.html#seer-dataset",
    "href": "posts/survival-analysis.html#seer-dataset",
    "title": "Survival Analysis",
    "section": "SEER dataset",
    "text": "SEER dataset\n\nhttps://seer.cancer.gov/data-software/documentation/seerstat/nov2016/TextData.FileDescription.pdf\n\n\nhttps://arxiv.org/abs/2204.07276\n\n\nid: parient’s ID\ntte: time to event\nlabel: cancer or not\nAGE_DX: patient’s age\nEOD10_SZ: size of the tumor\nMALIGCOUNT: number of In Situ/malignant tumors for patient\nBENBORDCOUNT: number of benign/borderline tumors"
  },
  {
    "objectID": "posts/survival-analysis.html#data-preparation",
    "href": "posts/survival-analysis.html#data-preparation",
    "title": "Survival Analysis",
    "section": "Data preparation",
    "text": "Data preparation\n\ndf = pd.read_csv('SEER_sample_imputed.csv')\n\n# keeping just a few columns\ndf = df[['id', 'tte', 'label', 'AGE_DX', 'EOD10_SZ', 'MALIGCOUNT', 'BENBORDCOUNT']]\n\ndf = df.dropna()\n\n# there are some 'id's duplicated\ndf.drop_duplicates('id', inplace=True)\ndf.set_index('id', inplace=True)\n\ndf = df.astype({'tte': int, 'label': int})\n\n\ndf.head()\n\n\n\n\n\n\n\n\n\ntte\nlabel\nAGE_DX\nEOD10_SZ\nMALIGCOUNT\nBENBORDCOUNT\n\n\nid\n\n\n\n\n\n\n\n\n\n\n40003996\n40\n0\n0.336449\n0.04536\n0.090909\n0.0\n\n\n38375019\n2\n1\n0.598131\n0.03006\n0.000000\n0.0\n\n\n36142366\n119\n1\n0.710280\n0.04008\n0.000000\n0.0\n\n\n35021855\n229\n1\n0.560748\n0.02004\n0.000000\n0.0\n\n\n38377976\n122\n0\n0.448598\n0.06012\n0.000000\n0.0\n\n\n\n\n\n\n\n\n\ndf.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nIndex: 9966 entries, 40003996 to 38818610\nData columns (total 6 columns):\n #   Column        Non-Null Count  Dtype  \n---  ------        --------------  -----  \n 0   tte           9966 non-null   int64  \n 1   label         9966 non-null   int64  \n 2   AGE_DX        9966 non-null   float64\n 3   EOD10_SZ      9966 non-null   float64\n 4   MALIGCOUNT    9966 non-null   float64\n 5   BENBORDCOUNT  9966 non-null   float64\ndtypes: float64(4), int64(2)\nmemory usage: 545.0 KB\n\n\n\ndf.groupby(['label']).count()\n\n\n\n\n\n\n\n\n\ntte\nAGE_DX\nEOD10_SZ\nMALIGCOUNT\nBENBORDCOUNT\n\n\nlabel\n\n\n\n\n\n\n\n\n\n0\n6633\n6633\n6633\n6633\n6633\n\n\n1\n3333\n3333\n3333\n3333\n3333\n\n\n\n\n\n\n\n\n\nCensorhip\nHappens when the time to event is partially known.\n\nNot censored: the event occured and the time is known.\nRight-censored: the survival duration is &gt; the the observed.\nLeft-censored: the survival duration is &lt; then the observed duration.\nInterval-censored: the survival duration is within the range but not exactly known.\n\n\nThe data is right-censored because there are over 6,000 observations where the event didn’t happen. It the cabe confirmed in the plot below.\n\n\nplt.figure(figsize=(12,4))\nplt.subplot(1,2,1)\nplt.title('Counting of Time to Event (tte)')\ndf['tte'].hist()\n\nplt.subplot(1,2,2)\nplt.title('Counting based on LABEL')\ndf.groupby(['label']).count()['tte'].plot(kind='pie', label='');"
  },
  {
    "objectID": "posts/survival-analysis.html#survival-function",
    "href": "posts/survival-analysis.html#survival-function",
    "title": "Survival Analysis",
    "section": "Survival Function",
    "text": "Survival Function\n\nShows the percentage of the population that did not experienced the event until that time \\(t\\).\nShows the survival probability (probability of the event of interest happens) after time \\(t\\):\n\n\\[\\Large S(t) = Pr(T &gt; t)\\]\n\n\\(T\\): when the event occurs.\n\\(t\\): any point in time during an observation."
  },
  {
    "objectID": "posts/survival-analysis.html#hazard-function",
    "href": "posts/survival-analysis.html#hazard-function",
    "title": "Survival Analysis",
    "section": "Hazard Function",
    "text": "Hazard Function\n\nShows the probability of that event happens at some time give the survival up to that time.\n\n\\[\\Large h(t) = -\\frac{d}{dt} \\log(S(t))\\]\n\nHazard rate: instantaneous rate of the event occuring"
  },
  {
    "objectID": "posts/survival-analysis.html#survival-functioncurve-estimation",
    "href": "posts/survival-analysis.html#survival-functioncurve-estimation",
    "title": "Survival Analysis",
    "section": "Survival Function/Curve Estimation",
    "text": "Survival Function/Curve Estimation\n\\[\\Large S(t) = \\prod_{i:t_i \\leq t} \\left(1 - \\frac{d_i}{n_i} \\right)\\]\n\n\\(t_i\\): duration time\n\\(d_i\\): number of events that happened at time \\(t_i\\)\n\\(n_i\\): number of individuals known to have survived up to time \\(t_i\\)\n\n\nNon-parametric\n\nDoes not assume underlying distribution.\nDescribes the data better.\nIt is not smooth/differentiable\n\n\nKaplan-Meier Model\nmost used\n\nkmf = lfl.KaplanMeierFitter()\nkmf.fit(durations=df['tte'], event_observed=df['label'])\n\n&lt;lifelines.KaplanMeierFitter:\"KM_estimate\", fitted with 9966 total observations, 6633 right-censored observations&gt;\n\n\n\nkmf.plot_survival_function(at_risk_counts=True)\nplt.ylabel('Survival Probability');\n\n\n\n\n\n\n\n\n\n# this measure might be wrong because more than 50% of the data is censored\nprint('Median survival time:', kmf.median_survival_time_)\n\nMedian survival time: 208.0\n\n\n\n\n\nParametric\n\nUsually gives more information because there is an underlying distribution\nIs necessary to assess the goodness-of-fit to avoid biases and misinterpretations\n\n\nWeibull Model\n\\[\\Large f(x; \\lambda,k) = \\frac{k}{\\lambda} \\left( \\frac{x}{\\lambda} \\right)^{k-1} e^{-(x/\\lambda)^k} \\qquad \\longrightarrow \\quad S(t) = e^{-(t/\\lambda)^\\rho}\\]\n\\[x \\geq 0, k &gt; 0, \\lambda &gt; 0\\]\n\n\\(k\\) or \\(\\rho\\): shape of the distribution\n\n\\(k &lt; 1\\): event rate decreases over time\n\\(k = 1\\): event rate is constant\n\\(k &gt; 1\\): event rate increases over time\n\n\\(\\lambda\\): scale of the distribution (indicates when 63.2% of the population has experienced the event)\n\n\nwb = lfl.WeibullFitter()\n\n# Weibull needs non-zero tte\ndf['tte'] = df['tte'] + 1e-10\n\nwb.fit(durations=df['tte'], event_observed=df['label'])\n\n&lt;lifelines.WeibullFitter:\"Weibull_estimate\", fitted with 9966 total observations, 6633 right-censored observations&gt;\n\n\n\nprint('Lambda:', wb.lambda_)\nprint('Rho:', wb.rho_)\n\nax = wb.survival_function_.plot()\nax.set_title(\"Survival function of Weibull model / estimated parameters\")\n\nLambda: 358.7938759636887\nRho: 0.7952285765619703\n\n\nText(0.5, 1.0, 'Survival function of Weibull model / estimated parameters')\n\n\n\n\n\n\n\n\n\n\\(\\rho\\) is smaller than 1: the event rate (cancer incidence) decreases over time.\n\n\n\nComparing Several Models\n\nwb = lfl.WeibullFitter().fit(durations=df['tte'], event_observed=df['label'])\nexp = lfl.ExponentialFitter().fit(durations=df['tte'], event_observed=df['label'])\nlog = lfl.LogNormalFitter().fit(durations=df['tte'], event_observed=df['label'])\n\n\nAkaike Information Criterion (AIC)\n\nEstimates the prediction error and relative quality of statistical models\nThe less information the model loses, the higher its quality. From lifelines documentation: The model with the lowest AIC is desirable, since it’s a trade off between maximizing the log-likelihood with as few parameters as possible.\n\n\nprint('Weilbull model:', wb.AIC_)\nprint('Exponential model:', exp.AIC_)\nprint('LogNormal model:', log.AIC_)\n\nWeilbull model: 44222.28063808024\nExponential model: 44474.95418984919\nLogNormal model: 47666.55189603808\n\n\n\nmodels = {'Weibull':['r', wb], \n          'Exponential':['g', exp], \n          'LogNormal':['b', log]}\n\nfig, axes = plt.subplots(2, 3, figsize=(18, 8))\n\ni = 0\nfor model_name,model_lst in models.items():\n    m_color = model_lst[0]\n    model = model_lst[1]\n    \n    model.plot_survival_function(ax=axes[0,i], c=m_color)\n    ax = qq_plot(model, ax=axes[1,i], scatter_color=m_color)\n    ax.title.set_text(model_name)\n    i += 1\n\n\n\n\n\n\n\n\n\n\nFinding the best model based on AIC\n\nbest_model, best_aic_ = lfl.utils.find_best_parametric_model(event_times=df['tte'], \n                                                       event_observed=df['label'],\n                                                       scoring_method=\"AIC\")\nprint('Best model:', best_model)\nprint('Best model AIC:', best_aic_)\n\nBest model: &lt;lifelines.SplineFitter:\"SplineFitter: 3 internal knot\", fitted with 9966 total observations, 6633 right-censored observations&gt;\nBest model AIC: 43413.18093519307\n\n\n\nfig, axes = plt.subplots(1, 2, figsize=(18, 4))\n\nbest_model.plot_survival_function(ax=axes[0])\n\n# line below raises the error: NotImplementedError: Distribution not implemented in SciPy\n#qq_plot(best_model, ax=axes[1])\n\n\n\n\n\n\n\n\n\n\n\nWeibul Model and Covariates\n\naft = lfl.WeibullAFTFitter()\naft.fit(df=df, duration_col='tte', event_col='label')\n\n&lt;lifelines.WeibullAFTFitter: fitted with 9966 total observations, 6633 right-censored observations&gt;\n\n\n\naft.print_summary()\n\nAttributeError: The '.style' accessor requires jinja2\n\n\n\n\n\n\n\n\n\nmodel\nlifelines.WeibullAFTFitter\n\n\nduration col\n'tte'\n\n\nevent col\n'label'\n\n\nnumber of observations\n9966\n\n\nnumber of events observed\n3333\n\n\nlog-likelihood\n-21462.69\n\n\ntime fit was run\n2025-10-07 22:44:50 UTC\n\n\n\n\n\n\n\n\n\ncoef\nexp(coef)\nse(coef)\ncoef lower 95%\ncoef upper 95%\nexp(coef) lower 95%\nexp(coef) upper 95%\ncmp to\nz\np\n-log2(p)\n\n\n\n\nlambda_\nAGE_DX\n-5.74\n0.00\n0.18\n-6.10\n-5.39\n0.00\n0.00\n0.00\n-31.93\n&lt;0.005\n740.77\n\n\nBENBORDCOUNT\n1.43\n4.18\n1.14\n-0.81\n3.67\n0.45\n39.21\n0.00\n1.25\n0.21\n2.25\n\n\nEOD10_SZ\n-1.20\n0.30\n0.11\n-1.42\n-0.99\n0.24\n0.37\n0.00\n-11.04\n&lt;0.005\n91.66\n\n\nMALIGCOUNT\n-0.96\n0.38\n0.30\n-1.54\n-0.37\n0.21\n0.69\n0.00\n-3.22\n&lt;0.005\n9.60\n\n\nIntercept\n8.75\n6320.25\n0.10\n8.55\n8.95\n5157.63\n7744.94\n0.00\n84.38\n&lt;0.005\ninf\n\n\nrho_\nIntercept\n-0.16\n0.85\n0.01\n-0.19\n-0.13\n0.83\n0.88\n0.00\n-10.83\n&lt;0.005\n88.44\n\n\n\n\n\n\n\n\n\n\nConcordance\n0.66\n\n\nAIC\n42937.37\n\n\nlog-likelihood ratio test\n1292.91 on 4 df\n\n\n-log2(p) of ll-ratio test\n923.30"
  }
]